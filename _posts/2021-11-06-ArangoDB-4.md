---
layout: post
title: <ArangoDB> 4. AQL(Arango Query Lang) 배워보기
categories: ArangoDB
---
  
<div class="message">
이번 글에서는 아랑고DB의 아주 간편한 웹 인터페이스로 시작한다. 간단히 기능들만 둘러보고, 그래프DB의 꽃인 그래프 횡단을 하기 위한 AQL에 대해 알아보자.
</div>

## 1. 들어가기에 앞서
여기서는 아랑고DB에서 제공하는 교육 자료를 사용할 예정이기 때문에 영어를 읽는데 무리가 없다면 해당 자료만 보고 이 글은 패스해도 된다.
자료는 아랑고DB의 공식 튜토리얼 자료 중 하나를 발췌했고, [여기](/public/ArangoDB-GraphCourse_Beginners.pdf)를 눌러 다운받을 수 있다. 더 많은 자료는 [여기](https://www.arangodb.com/learn/)에서 확인하자.

## 2. Web UI 사용해보기
AQL을 사용하고 데이터를 쉽게 조회할 수 있는 가장 간단한 방법은 아랑고DB를 설치하면 자동으로 설치되는 Web UI에 접속하는 것이다. 아무 브라우저나 열어서 아랑고DB가 설치된 서버 주소의 8529 포트로 접속할 수 있으며, 잘 안 되면 [세팅에 대해 적었던 글](https://ud803.github.io/arangodb/2021/11/02/ArangoDB-2/)에서 Web UI 관련 부분을 읽어보자.

나는 AWS EC2를 사용중이기 때문에, `http://ec2-xxx-xxx-xxx-xxx.ap-northeast-2.compute.amazonaws.com:8529` 주소로 접속했다. 
성공적으로 접속했다면 귀여운 아보카도 그림과 함께 로그인 화면이 뜬다. 따로 사용자를 생성해주지 않았다면 계정은 `root`, 비밀번호는 초기 설정한 비밀번호를 입력하자.

입력하면 데이터베이스를 선택하는 드롭다운이 생기는데, 일단은 그대로 `_system` 데이터베이스로 접속한다. 관리자 데이터베이스이기 때문에 서버 상태에 대한 대시보드와 함께 데이터베이스 목록(Databases), 레플리케이션, 서버 Log, 유저 권한을 설정할 수 있는 메뉴 등이 나타난다. 

당장 여기서는 볼 게 없기 때문에, 우측 상단의 `DB:_SYSTEM` 옆의 새로고침 버튼 같은 걸 눌러서 데이터베이스 선택 화면으로 다시 나간 뒤, 저번에 만들었던 `movies` 데이터베이스에 접속해보자. 아까와는 메뉴 구성이 다른 것을 볼 수 있다. 

Collections 메뉴로 들어가면 지난번에 만들었던 `titles` 컬렉션이 있는데, 눌러보면 도큐먼트들의 목록이 쭉 나오는 것을 알 수 있다. 탑바에 있는 `Indexes`, `Info`, `Settings` 들은 컬렉션 수준의 설정을 의미한다. 나중에 인덱스가 정상적으로 만들어졌는지 확인하기 위해 종종 사용한다.

그리고 대망의 Queries 메뉴로 들어가보자. 여기는 AQL을 입력하고 바로 실행시킬 수 있는 환경을 제공해준다. 비록 에디터의 기능이 거의 없다시피해서 수정이 편리하지는 않지만, 쿼리의 실행 관련 Execution Plan과 실행 결과를 곧바로 볼 수 있어 편리하다.



  
## 4. 어디까지 왔나
다음 글에서는 아랑고DB의 Web UI를 통해 우리가 넣은 데이터를 살펴보고, 다양한 기능들을 살펴보려고 한다.
  
1. [아랑고DB란? 왜 쓰는가?](https://ud803.github.io/arangodb/2021/10/31/ArangoDB-1/)
2. [아랑고DB 세팅하기 on Ubuntu](https://ud803.github.io/arangodb/2021/11/02/ArangoDB-2/)
3. [아랑고DB 쉘로 붙어서 명령어 체험해보기, 실체 파악해보기](https://ud803.github.io/arangodb/2021/11/06/ArangoDB-3/)
4. **(지금 보고있는 글) AQL(Arango Query Lang) 배워보기**
5. Python-Arango 라이브러리 활용하여 기본 기능 익히기
6. Relational/Document to ArangoDB Mapper 써서 데이터 대량으로 넣어보기
7. 넣은 데이터로 간단한 실습해보기
8. 넣은 데이터로 깊이있는 실습해보기
